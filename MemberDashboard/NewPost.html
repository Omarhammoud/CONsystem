<!DOCTYPE html>
<html>
   <head>
      <meta charset="UTF-8">
		<title>New Post</title>
		<script src="jquery-3.5.1.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
		<link rel="stylesheet" href="Style.css">
   </head>
   <body style="background-color:#DDDFEB">
   	<nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
	  	<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<form class="form-inline my-2 my-lg-0" action="MemberDashboard.php">
			  <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Dashboard</button>
			</form>
		</div>
	</nav>
		
		<form id="post_form" action="./insertPost.php" METHOD="post" enctype="multipart/form-data">
		
			<div id="privacyOption">
			  <p>Select Post Privacy:</p>
			  <input type="radio" id="publicPost" name="postPrivacy" value="public">
			  <label for="public">public</label><br>
			  <input type="radio" id="privatePost" name="postPrivacy" value="private">
			  <label for="private">private</label><br>
			</div>

			<div class="center">
				<textarea placeholder="Insert text content here..." type="text" id="textPost" name="content" onkeyup="textAreaAdjust(this)"></textarea>
				<br/><br/>
				<input type="file" id="files" class="newPostImg"  name="img" accept="image/x-png,image/gif,image/jpeg" />
				<br/><br/>
				<div id="PollDivID" style = 'display: none'>
					<input type="text" class="PollTitle"  name="pollTitle"  placeholder="Enter Poll Title">
					<input type="text" class="PollOption"  name="pollOptPlace[1]" placeholder="Enter place option 1" id="1">
					<input type="text" class="PollOption"  name="pollOptPlace[2]" placeholder="Enter place option 2" id="2">	
					<div id="optDate">
						<input type="date" id="1 date" class="PollOptionDate" name="pollOptDate[1]">
						<input type="date" id="2 date" class="PollOptionDate" name="pollOptDate[2]">					
					</div>
					<div id="optTime">
						<input type="time" id="1 time" class="PollOptionTime" name="pollOptTime[1]">
						<input type="time" id="2 time" class="PollOptionTime" name="pollOptTime[2]">
					</div>
				</div>
				<div>
				</div>
				<input type="submit" id="postBtn" value="Post">
			</div>
		</form>
					<button id="btnVote" onclick="Toggle(this)"> Create a poll</button>
					<button id="removeOption" class="removeOptionClass" onclick="removeOption()" style = 'display: none'> Remove option </button>
					<button id="addOption" class="addOptionClass" onclick="AddOption()" style = 'display: none'> Add option </button>
	  <script>
	var numberOfOptions = 3; 
	function textAreaAdjust(element) 
	{ 
	  element.style.height = "1px"; 
	  element.style.height = (25+element.scrollHeight)+"px"; 
	}
	function Toggle(e) 
	{
	  var addOption = document.getElementById("addOption");
	  var div = document.getElementById("PollDivID");
	  var removeOption = document.getElementById("removeOption");
	  if (div.style.display === "none") 
	  {
		div.style.display = "block";
	  } 
	  else 
	  {
		div.style.display = "none";
	  }
	  if (addOption.style.display === "none") 
	  {
		addOption.style.display = "block";
	  } 
	  else 
	  {
		addOption.style.display = "none";
	  }
	  if (removeOption.style.display === "none") 
	  {
		removeOption.style.display = "block";
	  } 
	  else 
	  {
		removeOption.style.display = "none";
	  }
	}
	function removeOption()
	{
		if(numberOfOptions >= 2){
		removeElement( document.getElementById(numberOfOptions-1) );
		removeElement(document.getElementById(numberOfOptions -1 +" time"));
		removeElement(document.getElementById(numberOfOptions -1 +" date"));
		numberOfOptions--;
		}
	}
	function AddOption()
	{
		if(numberOfOptions <= 5){
		var container = document.getElementById("PollDivID");
		var pollTitleEle = document.createElement("input");
		pollTitleEle.className = "PollOption";
		pollTitleEle.type = "text";
		pollTitleEle.name = "pollOptPlace[" + numberOfOptions + "]";
		pollTitleEle.placeholder = "Enter place option " +(numberOfOptions);
		pollTitleEle.id = numberOfOptions;
		container.appendChild(pollTitleEle);
		var offset = 42;
		document.getElementById("btnVote").top = document.getElementById("btnVote").top - offset;
		
		var containerDate = document.getElementById("optDate");
		var pollTitleEleDate = document.createElement("input");
		pollTitleEleDate.className = "PollOptionDate";
		pollTitleEleDate.type = "date";
		pollTitleEleDate.name = "pollOptDate[" + numberOfOptions + "]";
		pollTitleEleDate.id = numberOfOptions + " date";
		containerDate.appendChild(pollTitleEleDate);
		var offset = 42;
		document.getElementById("optDate").top = document.getElementById("optDate").top - offset;
		var containerTime = document.getElementById("optTime");
		var pollTitleEleTime = document.createElement("input");
		pollTitleEleTime.className = "PollOptionTime";
		pollTitleEleTime.type = "time";
		pollTitleEleTime.name = "pollOptTime[" + numberOfOptions + "]";
		pollTitleEleTime.id = numberOfOptions + " time";
		containerTime.appendChild(pollTitleEleTime);
		var offset = 42;
		numberOfOptions++;
		document.getElementById("optTime").top = document.getElementById("optTime").top - offset;		
		}
	}
	function removeElement(element) 
	{
    element && element.parentNode && element.parentNode.removeChild(element);
	}

	  </script>
	</body>
</html>
